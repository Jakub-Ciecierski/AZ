
%%%%%%%%%%%%%%%%%%%%%%% file typeinst.tex %%%%%%%%%%%%%%%%%%%%%%%%%
%
% This is the LaTeX source for the instructions to authors using
% the LaTeX document class 'llncs.cls' for contributions to
% the Lecture Notes in Computer Sciences series.
% http://www.springer.com/lncs       Springer Heidelberg 2006/05/04
%
% It may be used as a template for your own input - copy it
% to a new file with a new name and use it as the basis
% for your article.
%
% NB: the document class 'llncs' has its own and detailed documentation,  see
% ftp://ftp.springer.de/data/pubftp/pub/tex/latex/llncs/latex2e/llncsdoc.pdf
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\documentclass[runningheads, a4paper]{llncs}



\usepackage[linesnumbered,ruled]{algorithm2e}

\usepackage[margin=0.5in]{geometry}
\usepackage{amssymb}
\setcounter{tocdepth}{3}
\usepackage{graphicx}
\usepackage{amssymb}% http://ctan.org/pkg/amssymb
\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\usepackage{floatrow}
% Table float box with bottom caption, box width adjusted to content
\newfloatcommand{capbtabbox}{table}[][\FBwidth]
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{compatibility=false}

\usepackage{url} % for bibliograpy links
\urlstyle{same}  % (for bibliography links
\usepackage{float} % To force image to stand still

\usepackage{amsmath,amssymb}

\usepackage{color}

\usepackage{array}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}





\usepackage{xcolor} % Colors

\usepackage{tikz}
\usepackage{keyval}
\usepackage{pgfplots} % Bar charts

\usepgfplotslibrary{groupplots}

%\usepackage{groupplots}
%\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=newest}
   
   
%
% Define bar chart colors
%
\definecolor{bblue}{HTML}{4F81BD}
\definecolor{rred}{HTML}{C0504D}
\definecolor{ggreen}{HTML}{9BBB59}
\definecolor{ppurple}{HTML}{9F4C7C}


\usepackage{amssymb}
\setcounter{tocdepth}{3}
\usepackage{graphicx}

\newcommand{\keywords}[1]{\par\addvspace\baselineskip
\noindent\keywordname\enspace\ignorespaces#1}







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           START OF COMMANDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Save results to be later used in addBarPlotResults
% #1: Train Small
% #2: Train Big
% #3: Train All
% #4: Test
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\saveResultsFirst}[4]{
    \def\TrainSmallFirst{#1}%
    \def\TrainBigFirst{#2}%
    \def\TrainAllFirst{#3}%
    \def\TestFirst{#4}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Save results to be later used in addBarPlotResults
% #1: Train Small
% #2: Train Big
% #3: Train All
% #4: Test
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\saveResultsSecond}[4]{
    \def\TrainSmallSecond{#1}%
    \def\TrainBigSecond{#2}%
    \def\TrainAllSecond{#3}%
    \def\TestSecond{#4}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Adds Results to Bars labeled by #1, #2
%
% Label #1 is used for saveResultsFirst
% Label #2 is used for saveResultsSecond
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\addBarPlotResults}[2]{
    % TRAINING |w| < C    
    \addplot[style={bblue, fill=bblue, mark=none}]
    coordinates 
    {
        (#1,  \TrainSmallFirst)
        (#2,  \TrainSmallSecond)
    };
    
    % TRAINING |w| > C
    \addplot[style={rred, fill=rred, mark=none}]
    coordinates 
    {
        (#1,  \TrainBigFirst)
        (#2,  \TrainBigSecond)
    };
    
    % TRAINING ALL
    \addplot[style={ggreen, fill=ggreen, mark=none}]
    coordinates 
    {
        (#1,  \TrainAllFirst)
        (#2,  \TrainAllSecond)
    };
    
    % TESTING
    \addplot[style={ppurple, fill=ppurple, mark=none}]
    coordinates 
    {
        (#1,  \TestFirst)
        (#2,  \TestSecond)
    };
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Adds needed style to pgfplot
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \newcommand{\setPlotStyle}[0]{
        \pgfplotsset{xticklabel style={text width=2em, align=center}}
    }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Starts groupplot with given style
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\beginGroupPlot}[0]{
    \begin{groupplot}[
        group style={group size= 2 by 2,  vertical sep=50pt},
        height = 5.5cm, 
        ybar=4*\pgflinewidth, 
        ymin=0, 
        ymax=1,
        width  = 0.37*\textwidth, 
        enlarge x limits={abs=0.85cm}, 
        major x tick style = transparent, 
        ymajorgrids = true, 
        symbolic x coords={
            C=4,
            C=4 Q=3,
            C=4 Q=4,
            C=4 Q=5,
            C=4 Q=6,
            C=4 Q=7,
            C=4 Q=8,
            C=4 Q=9,
            C=4 Q=10,
            C=4 Q=11,
            C=4 Q=12,
            C=4 Q=13,
            C=4 Q=14,
            C=4 Q=15,
            C=5,
            C=5 Q=3,
            C=5 Q=4,
            C=5 Q=5,
            C=5 Q=6,
            C=5 Q=7,
            C=5 Q=8,
            C=5 Q=9,
            C=5 Q=10,
            C=5 Q=11,
            C=5 Q=12,
            C=5 Q=13,
            C=5 Q=14,
            C=5 Q=15
        },
        xtick = data, 
        scaled y ticks = false, 
        legend cell align=center, 
        legend columns=1,
        legend style={
            at={(1.45, 0.45)}, 
            anchor=north,
        }
        ]
    }%beginGroupPlot
    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sets legends for Bar plot
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \newcommand{\setPlotLegend}[0]{
        \legend{Training $|w|<C$,  Training $|w|>C$,  Training All,  Testing}
    }
    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           END OF COMMANDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\begin{document}

\mainmatter  % start of an individual contribution

\title{Krotkodystansowy Komiwojazer \\ Bottleneck Traveling Salesman Problem}

% a short form should be given in case it is too long for the running head
\titlerunning{Bottleneck TSP}

\author{Jakub Ciecierski \and Wojcik Lukasz \\ 
\textit{Warsaw University of Technology, \\
Faculty of Mathematics and Information Science.}}
%

\authorrunning{Bottleneck TSP}

\toctitle{Bottleneck TSP}
\tocauthor{Methodology}
\maketitle





%---------------------------------------------------------------------
%---------------------------------------------------------------------
%---------------------------------------------------------------------
\section{Introduction}

This documentation describes an approximation algorithm solving a Bottleneck Traveling Salesman Problem. A solution given by such algorithm should not be worse more than 3 times than optimal solution.

%---------------------------------------------------------------------
%---------------------------------------------------------------------
%---------------------------------------------------------------------
\section{Preliminaries}

\subsection{Triangle inequality}

The cost function c satisfies the \textbf{triangle inequality} if, for all vertices $u,v,w \in V$

\begin{center}
	$c(u,v)\leq c(u,v) + c(v,w)$
\end{center}

It means that adding intermediate steps between some vertices will never decrease the cost.
%---------------------------------------------------------------------
%---------------------------------------------------------------------
\subsection{Approximation Ratio}

%---------------------------------------------------------------------
%---------------------------------------------------------------------
\subsection{TSP}

\subsection{Definition}
\textbf{Traveling salesman problem} in a given graph is asking for a Hamiltonian cycle with the smallest possible sum of weights.

\subsection{Aproximation algorithm}

To find TSP cycle we have to find a \textbf{minimum spanning tree (MST)} first. Sum of weights of MST gives us a lower bound on cost of optimal TSP tour. It also will be used to create a tour whose cost is no more than twice that of the minimum spanning tree's wight (having that it satisfies the triangle inequality). We assume that an input for our algorithm is a complete, undirected graph with vertex r as a root and c satisfies the triangle inequality.


\begin{algorithm}[H]
    \SetKwInOut{Input}{Input}
    \SetKwInOut{Output}{Output}
    \Input{complete, undirected graph $G$, cost function $c$ }
    \Output{Hamiltonian cycle H}
    select a vertex $r \in G.V$ to be a root vertex \\
    
    compute a minimum spanning tree T for G from root r using MST-PRIM(G,c,r) \\
    
    let H be a list of vertices, ordered according to when they are first visited in a preorder tree walk of T \\
    
    return the hamiltonian cycle H \\
    
  %  \underline{function HILL-CLIMBING-IMPROVED} $(s, n)$\;
  %  $i = 0$ \\
  %  $current = s$ \\
  %  \While{$i < n$}
  %  {
  %  	$neighbor$ $\gets$ randomly generated state, different than $current$ \\
    	
    %	\If{OBJ-FUNCTION[neighbor] $\geq$ OBJ-FUNCTION[current]}
    %	{
	%		$current$ $\gets$ $neighbor$
   	%	}
   		  		
   % }
    \caption{Approx-TSP-Tour}
    \label{algo:hc_improved}
\end{algorithm}


%---------------------------------------------------------------------
%---------------------------------------------------------------------
\subsection{Bottleneck TSP}


\begin{algorithm}[h]
    \SetKwInOut{Input}{Input}
    \SetKwInOut{Output}{Output}
    \Input{
        $G(V,E)$ - Connected, undirected graph, where $V$ is the set of vertices and $E$ is the set of edges \\
        $c$ - Cost function. $c: E -> N$
    }
    \Output{$T$ - Minimum Bottleneck Spanning Tree}
    
    \If{$|G.E|$ = 1}{return $G$}
    
    $m = computeMedianWeight(G)$ \\
    $A = \{e : {e {\in G.E}} \land c(e) > m \}$. Set of edges with weight greater than $m$ \\
    $B = \{e : {e{\in G.E}} \land c(e) \leq m \}$. Set of edges with weight smaller or equal to $m$ \\
    $F =$ Forest(B) \\
      
    \If{$|F|=1$ and spans all vertices}{
		\If{$B.Count() == G.E.Count()$}
		{
			Take one edge from B and move it to set A.\\			
		}   	
    	
        $G^{'}.V = G.V$ \\
        $G^{'}.E = B$ \\
        return MBST$(G^{'})$
    }
    \Else {
        $G^{'}$ = MBST-Contract$(F, A)$
        
        return $F$ $\cup$ MBST($G^{'}$)
    }
    
    \caption{MBST(G, c)}
    \label{alg:mbst}
\end{algorithm}

\textbf{Algorithm 2 complexity}

\begin{itemize}
	\item lines 1-2 $O(1)$ - obvious
	\item line 4 $O(E)$ - selection algorithm
	\item lines 5-6 $O(E)$ - obvious
	\item line 7 $O(E+V)$ (O(n)) - every edge is considered twice and every node is processed once
	\item line 8 $O(V)$ - check if size of forest is equal to 1 and if number of vertices in forest is equal to number of vertices in input graph (linear)
	\item line 9 $O(E)$ - check if number of edges  in both sets is equal (linear)
	\item line 10 $O(1)$ - obvious
	\item line 12 $O(V)$ - copy V vertices from G'.V
	\item line 13 $O(E)$ - copy E edges from B to G'.E
	\item line 17 $O(V+E)$ - complexity of algorithm 3
\end{itemize}
	\textbf{Sum} - $O(V + E)$ \\
	
	
	In each recursive call we have 2 times less edges than in the calling function so complexity will also be 2 times smaller. Sum of costs of all calls of this function (including initial one will be not bigger than $O(2V + 2E) == O(V+E)$


\begin{algorithm}[h]
    \SetKwInOut{Input}{Input}
    \SetKwInOut{Output}{Output}
    \Input{
        $F$ - Forest,
        $A$ - Set of edges
    }
    \Output{$G$ - Connected graph}
  
    $V_{F} = $ A single super vertex is created for each connected component of $F$. Each such vertex corresponds to its connected component. \\
    $V = $ Missing Vertices in $F$. Vertices in $A$ but not in $F$ \\
    
    $E_{F}$ = Edges from $A$ that connect the connected components of $F$\\
    $E$ = Edges from $A$ to missing vertices in $F$ \\
    
    $G.V = $ $V_{F} \cup V $ \\
    $G.E = $ $E_{F} \cup E $
    
    return $G$

    \caption{MBST-Contract(F, A)}
    \label{alg:mbst_contract}
\end{algorithm}

\textbf{Algorithm 3 complexity}

\begin{itemize}
	\item lines 1-2 $O(V)$
	\item lines 3-4 $O(E)$
	\item line 5 $O(V)$
	\item line 6 $O(E)$
\end{itemize}

\textbf{Sum} - $O(V + E)$

\begin{algorithm}[h]
    \SetKwInOut{Input}{Input}
    \SetKwInOut{Output}{Output}
    \Input{
        $G(V,E)$ - complete, undirected graph, where $V$ is the set of vertices and $E$ is the set of edges \\
        $r$ - root $r \in G.V$ \\
        $c$ - Cost function satisfying triangle inequality. $c: E -> N$
    }
    \Output{$H$ - Hamiltonian cycle}
    $T = $ MBST$(G,c)$
    \caption{BTSP-Approx(G,c)}
    \label{alg:btsp}
\end{algorithm}

%---------------------------------------------------------------------
%---------------------------------------------------------------------
%---------------------------------------------------------------------
\section{Algorithm}

%---------------------------------------------------------------------
%---------------------------------------------------------------------
%---------------------------------------------------------------------
\section{Analysis}

%---------------------------------------------------------------------
%---------------------------------------------------------------------
\subsection{Correctness}

%---------------------------------------------------------------------
%---------------------------------------------------------------------
\subsection{Time Complexity}


\begin{thebibliography}{4}

\bibitem{mc_rao}


\end{thebibliography}

\end{document}
